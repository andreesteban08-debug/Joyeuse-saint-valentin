<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Joyeuse Saint Valentinüíò</title>
  <link rel="stylesheet" href="style.css">


  <style>
    :root{
      --card-bg: rgba(255, 255, 255, 0.18);
      --card-border: rgba(255, 255, 255, 0.28);
      --text: #ffffff;
      --btn-bg: rgba(255,255,255,0.92);
      --btn-text: #1b1b1b;
      --btn-hover: rgba(255,255,255,1);
    }

    *{ box-sizing: border-box; }

    body{
      margin: 0;
      min-height: 100vh;
      color: var(--text);
      font-family: "Trebuchet MS", "Segoe UI", system-ui, -apple-system, Arial, sans-serif;
      display: grid;
      place-items: center;
      padding: 24px;

      /* ‚úÖ Fond image */
      background-image: url("fond-st-valentin.avif");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      position: relative;
      overflow-x: hidden;
    }

    /* ‚úÖ voile sombre/rose pour lisibilit√© */
    body::before{
      content:"";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, rgba(255,105,135,0.35), rgba(0,0,0,0.35));
      backdrop-filter: blur(2px);
      z-index: 0;
    }

    .wrap{
      width: min(820px, 100%);
      position: relative;
      z-index: 1;
    }

    .card{
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 22px;
      padding: 28px 22px;
      box-shadow: 0 18px 60px rgba(0,0,0,0.25);
    }

    h1{
      margin: 0 0 10px 0;
      font-size: clamp(28px, 4vw, 44px);
      letter-spacing: 0.5px;
      text-align: center;
    }

    .subtitle{
      text-align: center;
      line-height: 1.55;
      font-size: clamp(14px, 2.1vw, 18px);
      opacity: 0.95;
      margin: 8px 0 18px 0;
      padding: 0 6px;
    }

    #lives{
      text-align: center;
      font-size: 20px;
      margin: 12px 0 4px 0;
      font-weight: 700;
    }

    .btnRow{
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 14px;
    }

    button{
      padding: 12px 18px;
      font-size: 16px;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      background: var(--btn-bg);
      color: var(--btn-text);
      transition: transform .12s ease, background .12s ease;
      box-shadow: 0 10px 18px rgba(0,0,0,0.18);
    }
    button:hover{ background: var(--btn-hover); transform: translateY(-1px); }
    button:active{ transform: translateY(1px) scale(0.99); }

    .questionTitle{
      margin: 18px 0 10px 0;
      font-size: 20px;
      font-weight: 800;
      text-align: center;
    }
    .questionText{
      text-align: center;
      margin: 0 0 12px 0;
      font-size: 17px;
    }

    #message{
      text-align: center;
      margin-top: 14px;
      font-size: 18px;
      font-weight: 700;
      min-height: 24px;
    }

    .hidden{ display: none; }

    /* ‚úÖ Form cach√© tant que pas gagn√© */
    #finalForm{ display: none; margin-top: 16px; }

    .formCard{
      margin-top: 16px;
      padding: 18px;
      border-radius: 18px;
      background: rgba(0,0,0,0.22);
      border: 1px solid rgba(255,255,255,0.22);
    }

    .radioLine{
      display: flex;
      justify-content: center;
      gap: 18px;
      flex-wrap: wrap;
      margin: 12px 0 10px 0;
      font-size: 16px;
    }

    .radioLine label{
      background: rgba(255,255,255,0.14);
      border: 1px solid rgba(255,255,255,0.18);
      padding: 10px 14px;
      border-radius: 14px;
      cursor: pointer;
      user-select: none;
    }

    input[type="radio"]{
      transform: scale(1.1);
      margin-right: 8px;
    }

    @media (max-width: 520px){
      button{ width: 100%; max-width: 320px; }
      .card{ padding: 22px 16px; }
    }

    /* ‚úÖ Bouton discret en bas (tu peux choisir left ou right) */
    #pinFab{
      position: fixed;
      bottom: 10px;
      right: 12px;          /* mets left:12px; si tu le veux √† gauche */
      z-index: 50;
      width: 44px;
      height: 32px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.10);
      color: rgba(255,255,255,0.55);
      cursor: pointer;
      font-size: 16px;
      letter-spacing: 2px;
      transition: opacity .15s ease, transform .15s ease, background .15s ease;
      opacity: 0.35;
    }
    #pinFab:hover{
      opacity: 0.75;
      transform: translateY(-1px);
      background: rgba(0,0,0,0.18);
    }

    /* ‚úÖ Modal */
    #pinModal.pinHidden{ display:none; }
    #pinModal{
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: rgba(0,0,0,0.55);
      display: grid;
      place-items: center;
    }

    .pinBox{
      width: min(360px, 92%);
      background: rgba(255,255,255,0.14);
      border: 1px solid rgba(255,255,255,0.22);
      border-radius: 18px;
      padding: 14px;
      box-shadow: 0 18px 60px rgba(0,0,0,0.35);
      backdrop-filter: blur(8px);
    }

    .pinTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }
    .pinTitle{ font-weight: 800; }
    .pinClose{
      border: none;
      background: rgba(255,255,255,0.18);
      color: white;
      border-radius: 12px;
      padding: 8px 10px;
      cursor: pointer;
    }

    .pinDots{
      margin-top: 10px;
      text-align:center;
      font-size: 22px;
      letter-spacing: 6px;
    }
    .pinHint{
      text-align:center;
      opacity: 0.9;
      margin: 8px 0 10px 0;
    }

    .pinPad{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 8px;
    }
    .pinKey{
      padding: 14px 0;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      background: rgba(255,255,255,0.92);
      color: #1b1b1b;
      font-size: 18px;
      font-weight: 700;
    }
    .pinKey:hover{ transform: translateY(-1px); }
    .pinKeyGhost{
      background: rgba(255,255,255,0.18);
      color: white;
    }
    /* üòà Le "Non" peut se d√©placer */
    #noLabel{
      position: relative;
    }
    #noLabel.runaway{
      position: absolute;
      left: 0;
      top: 0;
    }

    /* ü•ö 4√®me easter egg : mini coeur fant√¥me */
    #cornerEgg{
      position: fixed;
      left: 10px;      /* mets right:10px et enl√®ve left si tu le veux √† droite */
      bottom: 10px;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255,255,255,1);
      opacity: 0.06;   /* quasi invisible */
      z-index: 40;
      cursor: pointer;
    }
    #cornerEgg:hover{
      opacity: 0.18;   /* juste un tout petit indice si elle passe dessus */
    }

  </style>
</head>
<!-- üîí Digicode discret -->
<button id="pinFab" aria-label="Acc√®s secret">‚Ä¢‚Ä¢‚Ä¢</button>

<div id="pinModal" class="pinHidden" role="dialog" aria-modal="true">
  <div class="pinBox">
    <div class="pinTop">
      <div class="pinTitle">Acc√®s</div>
      <button id="pinClose" class="pinClose" aria-label="Fermer">‚úï</button>
    </div>

    <div class="pinDots" id="pinDots">‚ó¶ ‚ó¶ ‚ó¶ ‚ó¶</div>
    <div class="pinHint" id="pinHint">Tape le code</div>

    <div class="pinPad">
      <button class="pinKey" data-k="1">1</button>
      <button class="pinKey" data-k="2">2</button>
      <button class="pinKey" data-k="3">3</button>
      <button class="pinKey" data-k="4">4</button>
      <button class="pinKey" data-k="5">5</button>
      <button class="pinKey" data-k="6">6</button>
      <button class="pinKey" data-k="7">7</button>
      <button class="pinKey" data-k="8">8</button>
      <button class="pinKey" data-k="9">9</button>
      <button class="pinKey pinKeyGhost" data-action="clear">C</button>
      <button class="pinKey" data-k="0">0</button>
      <button class="pinKey pinKeyGhost" data-action="back">‚å´</button>
    </div>
  </div>
</div>

<div id="cornerEgg" aria-label="secret"></div>

<body>
  <div class="wrap">
    <div class="card">

      <!-- ‚úÖ √âCRAN D‚ÄôINTRO -->
      <div id="intro">
        <h1>üíñ Pour <span id="summitText">mon sommet</span> ‚õ∞Ô∏è</h1>
        <p class="subtitle">
          √Ä d√©faut de pouvoir t'offrir un bouquet de <span id="roseWord">roses</span>‚Ä¶
          je t'offre √ßa.<br>
          Si tu gagnes : invitation lundi apr√®s les cours, et cette fois c‚Äôest moi qui organise üòå<br>
          (et si tu refuses je te kidnappe‚Ä¶)
        </p>
        <div class="btnRow">
          <button onclick="startGame()">Pr√™te ? üíò</button>
        </div>
      </div>

      <!-- ‚úÖ JEU (cach√© au d√©part) -->
      <div id="gameArea" class="hidden">
        <p id="lives">Vies restantes : ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</p>
        <div id="game"></div>
        <div id="message"></div>

        <div id="finalForm" class="formCard">
          <p style="margin:0 0 10px 0; text-align:center;">Veux-tu accepter mon invitation pour lundi soir ?</p>

          <form action="https://formsubmit.co/andre.esteban.08@gmail.com" method="POST">
            <input type="hidden" name="_subject" value="R√©ponse">

            <div class="radioLine">
              <label><input type="radio" name="reponse" value="Oui" required> Oui üíñ</label>
              <label id="noLabel"><input type="radio" name="reponse" value="Non" required> Non üò∂</label>
            </div>

            <div class="btnRow">
              <button type="submit">Envoyer ma r√©ponse</button>
            </div>
          </form>
        </div>
      </div>

    </div>
  </div>

<script>
let lives = 3;
let stage = 1;

/* ========= ‚úÖ COMPTEUR EASTER EGGS (10) ========= */
const TOTAL_EGGS = 10;
const eggsFoundSet = new Set();

function registerEgg(n){
  if (eggsFoundSet.has(n)) return; // pas de doublons
  eggsFoundSet.add(n);
  console.log("Egg trouv√© :", n, "Total :", eggsFoundSet.size, "/", TOTAL_EGGS);

  if (eggsFoundSet.size === TOTAL_EGGS){
    showUltimateReward();
  }
}
/* ============================================== */

function startGame(){
  document.getElementById("intro").classList.add("hidden");
  document.getElementById("gameArea").classList.remove("hidden");
  renderStage();
}

function updateLives() {
  let hearts = "";
  for (let i = 0; i < lives; i++) hearts += "‚ù§Ô∏è";
  document.getElementById("lives").innerHTML = "Vies restantes : " + hearts;
}

function gameOver() {
  document.getElementById("game").innerHTML = "";
  document.getElementById("message").innerHTML =
    "Mission √©chou√©e.. Il faudra me supplier si tu veux sortir ü§∑";
}

function loseLife() {
  lives--;
  updateLives();
  if (lives <= 0) gameOver();
}

function showWinForm() {
  document.getElementById("game").innerHTML = "";
  document.getElementById("message").innerHTML = "Mission r√©ussie üéâ";
  document.getElementById("finalForm").style.display = "block";

  // ‚úÖ triple oui supprim√© comme demand√©
  makeNoRunAway(); // üòà ICI
}


function checkAnswer(correct) {
  if (!correct) { loseLife(); return; }
  stage++;
  renderStage();
}

function renderStage() {
  const game = document.getElementById("game");
  document.getElementById("message").innerHTML = "";

  if (stage === 1) {
    game.innerHTML = `
      <div class="questionTitle">Question 1</div>
      <div class="questionText">Quelle est ma couleur pr√©f√©r√©e ?</div>
      <div class="btnRow">
        <button onclick="checkAnswer(false)">Blanc</button>
        <button onclick="checkAnswer(false)">Magenta</button>
        <button onclick="checkAnswer(false)">Bleu fonc√©</button>
        <button onclick="checkAnswer(true)">Bleu cyan</button>
        <button onclick="checkAnswer(false)">Beige</button>
        <button onclick="checkAnswer(false)">Rose</button>
        <button onclick="checkAnswer(false)">Marron</button>
      </div>
    `;
  }

  else if (stage === 2) {
    game.innerHTML = `
      <div class="questionTitle">Question 2</div>
      <div class="questionText">Le paysage / destination que je pr√©f√®re ?</div>
      <div class="btnRow">
        <button onclick="checkAnswer(false)">La montagne</button>
        <button onclick="checkAnswer(true)">La mer / l'oc√©an</button>
      </div>
    `;
  }

  else if (stage === 3) {
    game.innerHTML = `
      <div class="questionTitle">Question 3</div>
      <div class="questionText">Je pr√©f√®re :</div>
      <div class="btnRow">
        <button onclick="checkAnswer(true)">La ville</button>
        <button onclick="checkAnswer(false)">La campagne</button>
      </div>
    `;
  }

  else if (stage === 4) {
    game.innerHTML = `
      <div class="questionTitle">Question 4</div>
      <div class="questionText">Ma destination de r√™ve ?</div>
      <div class="btnRow">
        <button onclick="checkAnswer(false)">L'Espagne</button>
        <button onclick="checkAnswer(true)">Le Japon</button>
        <button onclick="checkAnswer(false)">La Chine</button>
        <button onclick="checkAnswer(true)">Les √âtats-Unis</button>
        <button onclick="checkAnswer(false)">La Norv√®ge</button>
      </div>
    `;
  }

  else if (stage === 5) {
    game.innerHTML = `
      <div class="questionTitle">Question 5</div>
      <div class="questionText">Quelle est ma trilogie pr√©f√©r√©e ?</div>
      <div class="btnRow">
        <button onclick="checkAnswer(true)">Labyrinthe</button>
        <button onclick="checkAnswer(false)">Hunger Games</button>
        <button onclick="checkAnswer(true)">Star Wars</button>
        <button onclick="checkAnswer(false)">Harry Potter</button>
        <button onclick="checkAnswer(false)">Matrix</button>
        <button onclick="checkAnswer(false)">Avatar</button>
      </div>
    `;
  }

  else if (stage === 6) {
    game.innerHTML = `
      <div class="questionTitle">Question 6</div>
      <div class="questionText">Mon animal pr√©f√©r√© ?</div>
      <div class="btnRow">
        <button onclick="checkAnswer(false)">Le chien</button>
        <button onclick="checkAnswer(false)">Le chat</button>
        <button onclick="checkAnswer(true)">Le cachalot</button>
        <button onclick="checkAnswer(false)">Le panda roux</button>
        <button onclick="checkAnswer(false)">Le renard</button>
      </div>
    `;
  }

  else if (stage === 7) {
    game.innerHTML = `
      <div class="questionTitle">Question 7</div>
      <div class="questionText">Mon plat pr√©f√©r√© ?</div>
      <div class="btnRow">
        <button onclick="checkAnswer(false)">P√¢tes bolognaises</button>
        <button onclick="checkAnswer(true)">Les sushis</button>
        <button onclick="checkAnswer(false)">Les lasagnes</button>
        <button onclick="checkAnswer(false)">La fondue savoyarde</button>
      </div>
    `;
  }

  else if (stage === 8) {
    game.innerHTML = `
      <div class="questionTitle">Question 8</div>
      <div class="questionText">Ma saison pr√©f√©r√©e ?</div>
      <div class="btnRow">
        <button onclick="checkAnswer(false)">L'automne</button>
        <button onclick="checkAnswer(false)">L'hiver</button>
        <button onclick="checkAnswer(false)">Le printemps</button>
        <button onclick="checkAnswer(true)">L'√©t√©</button>
      </div>
    `;
  }

  else if (stage === 9) {
    game.innerHTML = `
      <div class="questionTitle">Question 9</div>
      <div class="questionText">√Ä quelle heure je me couche le plus souvent ?</div>
      <div class="btnRow">
        <button onclick="checkAnswer(false)">23h</button>
        <button onclick="checkAnswer(false)">0h00</button>
        <button onclick="checkAnswer(false)">1h</button>
        <button onclick="checkAnswer(true)">En m√™me temps que toi</button>
      </div>
    `;
  }

  else if (stage === 10) {
    game.innerHTML = `
      <div class="questionTitle">Question 10</div>
      <div class="questionText">Si on regarde un film, je choisis :</div>
      <div class="btnRow">
        <button onclick="checkAnswer(true)">Film romantique</button>
        <button onclick="checkAnswer(true)">Film d‚Äôhorreur</button>
        <button onclick="checkAnswer(false)">Film d‚Äôaction</button>
        <button onclick="checkAnswer(true)">Je fais semblant mais je te laisse d√©cider</button>
      </div>
    `;
  }

  else if (stage === 11) {
    game.innerHTML = `
      <div class="questionTitle">Question 11</div>
      <div class="questionText">Ce que j‚Äôaime le plus chez toi :</div>
      <div class="btnRow">
        <button onclick="checkAnswer(false)">Ton humour</button>
        <button onclick="checkAnswer(true)">Tout</button>
        <button onclick="checkAnswer(false)">Ta personnalit√©</button>
        <button onclick="checkAnswer(false)">Ton regard</button>
      </div>
    `;
  }

  else if (stage === 12) {
    game.innerHTML = `
      <div class="questionTitle">Question 12</div>
      <div class="questionText">Clique sur le bon coeur üíì</div>
      <div class="btnRow">
        <button onclick="loseLife()">üíì</button>
        <button onclick="checkAnswer(true)">üíì</button>
        <button onclick="loseLife()">üíì</button>
      </div>
    `;
  }

  else if (stage === 13) {
    showWinForm();
  }
}


// üîë Choisis ton code ici (4 chiffres)
const SECRET_PIN_LETTER = "1308";
const SECRET_PIN_VALENTINE = "1402";
const SECRET_PIN_DEBUG_23H = "2223";
const SECRET_PIN_HUGELOVE = "5084"; // change si tu veux



let pinBuffer = "";

const pinFab = document.getElementById("pinFab");
const pinModal = document.getElementById("pinModal");
const pinClose = document.getElementById("pinClose");
const pinDots = document.getElementById("pinDots");
const pinHint = document.getElementById("pinHint");

function openPin(){
  pinBuffer = "";
  renderDots();
  pinHint.textContent = "Tape le code";
  pinModal.classList.remove("pinHidden");
}
function closePin(){
  pinModal.classList.add("pinHidden");
}

function renderDots(){
  const filled = "‚óè";
  const empty = "‚ó¶";
  const max = 4;
  let out = [];
  for(let i=0;i<max;i++){
    out.push(i < pinBuffer.length ? filled : empty);
  }
  pinDots.textContent = out.join(" ");
}

function failPin(){
  pinHint.textContent = " üåû Essaie encore mon sunshine üåû";
  // petit shake
  const box = pinModal.querySelector(".pinBox");
  box.animate(
    [{transform:"translateX(0)"},{transform:"translateX(-8px)"},{transform:"translateX(8px)"},{transform:"translateX(0)"}],
    {duration:220}
  );
  pinBuffer = "";
  renderDots();
}

function successPin(){
  closePin();
  showSecretLoveNote(); // üëà ta d√©cla s‚Äôaffiche
}

// Ouvre/Ferme
pinFab.addEventListener("click", openPin);
pinClose.addEventListener("click", closePin);
pinModal.addEventListener("click", (e) => { if(e.target === pinModal) closePin(); });

// Touche du clavier (optionnel)
document.addEventListener("keydown", (e) => {
  if (pinModal.classList.contains("pinHidden")) return;
  if (e.key >= "0" && e.key <= "9") handleDigit(e.key);
  if (e.key === "Backspace") backspace();
  if (e.key === "Escape") closePin();
});

function handleDigit(d){
  if(pinBuffer.length >= 4) return;

  pinBuffer += d;
  renderDots();

  if(pinBuffer.length === 4){
    if(pinBuffer === SECRET_PIN_LETTER){
      registerEgg(10); // ‚úÖ egg #10 (lettre)
      closePin();
      showSecretLoveNote(); // ‚úÖ lettre
    }
    else if(pinBuffer === SECRET_PIN_VALENTINE){
      registerEgg(7); // ‚úÖ egg #7 (valentine)
      closePin();
      showValentinePop(); // ‚úÖ valentine
    }
    else if(pinBuffer === SECRET_PIN_DEBUG_23H){
      registerEgg(8); // ‚úÖ valide l'egg 23h
      closePin();
      showMiniOverlay("üåô 8eme easter egg trouv√© üåô",
        "Mode test activ√© üòè<br><br>On va faire comme s‚Äôil √©tait tard...");
    }
    else if(pinBuffer === SECRET_PIN_HUGELOVE){
      closePin();
      showHugeLoveNote();
    }
    else {
      failPin();
    }
  }
}

function backspace(){
  pinBuffer = pinBuffer.slice(0, -1);
  renderDots();
}

document.querySelectorAll(".pinKey").forEach(btn => {
  btn.addEventListener("click", () => {
    const k = btn.getAttribute("data-k");
    const action = btn.getAttribute("data-action");
    if (k !== null) handleDigit(k);
    if (action === "clear") { pinBuffer=""; renderDots(); pinHint.textContent="Tape le code"; }
    if (action === "back") backspace();
  });
});

// üíå Ton message secret (overlay)
function showSecretLoveNote(){
  const overlay = document.createElement("div");
  overlay.style.position = "fixed";
  overlay.style.inset = "0";
  overlay.style.background = "rgba(0,0,0,0.55)";
  overlay.style.display = "grid";
  overlay.style.placeItems = "center";
  overlay.style.zIndex = "99999";

  overlay.innerHTML = `
    <div style="
      width:min(720px,92%);
      background: rgba(255,255,255,0.14);
      border: 1px solid rgba(255,255,255,0.22);
      border-radius: 20px;
      padding: 22px 18px;
      box-shadow: 0 18px 60px rgba(0,0,0,0.35);
      text-align:center;
      backdrop-filter: blur(10px);
      ">
      <h2 style="margin:0 0 10px 0;">üíå 10eme easter egg trouv√© üíå </h2>
      <p style="margin:0; line-height:1.6; font-size:18px;">
        Felicitations<br>
        Je ne pensais pas que tu tomberais ici.<br><br>
        Si tu lis ces lignes, c‚Äôest que ta curiosit√© a encore fait des merveilles.<br>
        Je voulais simplement te dire quelque chose, <br>
        Tu comptes beaucoup pour moi. Probablement plus que tu ne l‚Äôimagines.<br><br>
        J‚Äôai h√©sit√© √† √©crire une vraie d√©claration ici‚Ä¶ mais je te connais assez pour savoir que tu finirais par la trouver, et je ne suis pas s√ªr que tu sois pr√™te √† en recevoir une.<br>
        Je sais que ton pass√© n‚Äôa pas toujours √©t√© simple.<br>
        Je sais aussi que certaines choses laissent des traces et donnent parfois envie de te prot√©ger, voire de t‚Äô√©loigner avant que √ßa ne devienne trop r√©el.<br>
        Et c‚Äôest normal.<br>
        Ce que je veux, moi, c‚Äôest te rendre la plus heureuse possible.<br>
        Je veux simplement √™tre quelqu‚Äôun aupr√®s de qui tu te sentes en s√©curit√©, libre, et heureuse.<br><br>
        Si ce que je fais peut parfois sembler ‚Äúbeaucoup‚Äù, sache que pour moi, ce n‚Äôest rien d‚Äôexceptionnel et que je suis capable de bien plus que √ßa pour tes yeux.<br>
        C‚Äôest naturel. Parce que quand quelqu‚Äôun compte vraiment, on ne calcule pas.<br>
        Je veux juste te prouver, √† ma mani√®re, que ce que tu m√©rites existe.<br>
      </p>
      <div style="margin-top:14px;">
        <button id="closeSecret" style="padding:12px 18px;border:none;border-radius:14px;cursor:pointer;">
          Fermer
        </button>
      </div>
    </div>
  `;

  document.body.appendChild(overlay);
  overlay.querySelector("#closeSecret").addEventListener("click", () => overlay.remove());
  overlay.addEventListener("click", (e) => { if(e.target === overlay) overlay.remove(); });
}

function showValentinePop(){
  const overlay = document.createElement("div");
  overlay.style.position = "fixed";
  overlay.style.inset = "0";
  overlay.style.background = "rgba(0,0,0,0.65)";
  overlay.style.display = "grid";
  overlay.style.placeItems = "center";
  overlay.style.zIndex = "99999";

  overlay.innerHTML = `
    <div style="
      width:min(650px,92%);
      background: rgba(255,105,135,0.22);
      border: 1px solid rgba(255,255,255,0.22);
      border-radius: 22px;
      padding: 26px 18px;
      text-align:center;
      backdrop-filter: blur(12px);
      box-shadow: 0 18px 60px rgba(0,0,0,0.35);
    ">
      <h2 style="margin:0 0 10px 0;">üíò 7√®me easter egg trouv√© üíò</h2>
      <p style="margin:0; line-height:1.6; font-size:20px;">
        Accepterais-tu d'√™tre ma Valentine ?
      </p>
      <div style="margin-top:16px;">
        <button id="closeVal" style="padding:12px 18px;border:none;border-radius:14px;cursor:pointer;">
          Fermer
        </button>
      </div>
    </div>
  `;

  document.body.appendChild(overlay);
  overlay.querySelector("#closeVal").addEventListener("click", () => overlay.remove());
  overlay.addEventListener("click", (e) => { if(e.target === overlay) overlay.remove(); });
}

function makeNoRunAway(){
  const formCard = document.getElementById("finalForm");
  const noLabel = document.getElementById("noLabel");

  if(!formCard || !noLabel) return;

  formCard.style.position = "relative";

  function jump(){
    noLabel.style.position = "absolute";

    const zone = formCard.getBoundingClientRect();
    const b = noLabel.getBoundingClientRect();

    const maxX = zone.width - b.width;
    const maxY = zone.height - b.height;

    const x = Math.random() * maxX;
    const y = Math.random() * maxY;

    noLabel.style.left = x + "px";
    noLabel.style.top  = y + "px";
  }

  // Il ne bouge QUE quand on l'approche
  noLabel.addEventListener("mouseenter", jump);
  noLabel.addEventListener("mousemove", jump);
}

document.querySelector("h1").addEventListener("dblclick", function(){
  registerEgg(1);

  const overlay = document.createElement("div");
  overlay.style.position = "fixed";
  overlay.style.inset = "0";
  overlay.style.background = "rgba(0,0,0,0.55)";
  overlay.style.display = "grid";
  overlay.style.placeItems = "center";
  overlay.style.zIndex = "99999";

  overlay.innerHTML = `
    <div style="
      width:min(600px,90%);
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: 20px;
      padding: 24px;
      text-align:center;
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,0.35);
    ">
      <h3 style="margin:0 0 12px 0;">‚ú® 1er easter egg trouv√© ‚ú®</h3>
      <p style="margin:0; line-height:1.6; font-size:18px;">
        √áa fait bient√¥t quatre mois que tu occupes mes pens√©es bien plus que je ne voudrais l‚Äôadmettre‚Ä¶<br><br>
        Et apparemment, √ßa ne passe pas. Cela empire..
      </p>
      <div style="margin-top:16px;">
        <button id="closeEgg" style="padding:12px 18px;border:none;border-radius:14px;cursor:pointer;">
          Fermer
        </button>
      </div>
    </div>
  `;

  document.body.appendChild(overlay);

  overlay.querySelector("#closeEgg").addEventListener("click", () => overlay.remove());
  overlay.addEventListener("click", (e) => {
    if(e.target === overlay) overlay.remove();
  });

});

document.getElementById("roseWord").addEventListener("dblclick", function(){
  registerEgg(2);

  const overlay = document.createElement("div");
  overlay.style.position = "fixed";
  overlay.style.inset = "0";
  overlay.style.background = "rgba(0,0,0,0.55)";
  overlay.style.display = "grid";
  overlay.style.placeItems = "center";
  overlay.style.zIndex = "99999";

  overlay.innerHTML = `
    <div style="
      width:min(600px,90%);
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: 20px;
      padding: 24px;
      text-align:center;
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,0.35);
    ">
      <h3 style="margin:0 0 12px 0;">üåπ 2√®me easter egg trouv√© üåπ</h3>
      <p style="margin:0; line-height:1.6; font-size:18px;">
        J‚Äôaimerais vraiment pouvoir t‚Äôen offrir un‚Ä¶ genre un jour proche.<br><br>
        Pas juste un bouquet pour faire joli,<br>
        mais des roses que je te donnerais en vrai,<br>
        avec tout ce que √ßa voudrait dire.
      </p>
      <div style="margin-top:16px;">
        <button id="closeRoseEgg" style="padding:12px 18px;border:none;border-radius:14px;cursor:pointer;">
          Fermer
        </button>
      </div>
    </div>
  `;

  document.body.appendChild(overlay);

  overlay.querySelector("#closeRoseEgg").addEventListener("click", () => overlay.remove());
  overlay.addEventListener("click", (e) => {
    if(e.target === overlay) overlay.remove();
  });

});

const startBtn = document.querySelector("#intro button");
let holdTimer;

startBtn.addEventListener("mousedown", () => {
  holdTimer = setTimeout(() => {
    registerEgg(3);

    const overlay = document.createElement("div");
    overlay.style.position = "fixed";
    overlay.style.inset = "0";
    overlay.style.background = "rgba(0,0,0,0.45)";
    overlay.style.display = "grid";
    overlay.style.placeItems = "center";
    overlay.style.zIndex = "99999";

    overlay.innerHTML = `
      <div style="
        width:min(500px,90%);
        background: rgba(255,255,255,0.15);
        border: 1px solid rgba(255,255,255,0.25);
        border-radius: 20px;
        padding: 24px;
        text-align:center;
        backdrop-filter: blur(10px);
        box-shadow: 0 18px 60px rgba(0,0,0,0.35);
      ">
        <p style="margin:0; line-height:1.6; font-size:18px;">
          <h3 style="margin:0 0 12px 0;">‚ú® 3eme easter egg trouv√© ‚ú®</h3>
          T'as peur de ce qu'il y a derri√®re ce bouton pour ne pas vouloir appuyer dessus ? <br> Tu stresses ? üòå<br><br>
          Ou c‚Äôest juste moi qui te fais un peu d‚Äôeffet ?
        </p>
        <div style="margin-top:16px;">
          <button id="closeHoldEgg" style="padding:12px 18px;border:none;border-radius:14px;cursor:pointer;">
            Continuer üíò
          </button>
        </div>
      </div>
    `;

    document.body.appendChild(overlay);

    overlay.querySelector("#closeHoldEgg").addEventListener("click", () => overlay.remove());
    overlay.addEventListener("click", (e) => {
      if(e.target === overlay) overlay.remove();
    });

  }, 2000);
});

startBtn.addEventListener("mouseup", () => {
  clearTimeout(holdTimer);
});

startBtn.addEventListener("mouseleave", () => {
  clearTimeout(holdTimer);
});

document.getElementById("cornerEgg").addEventListener("click", () => {
  registerEgg(4);

  const overlay = document.createElement("div");
  overlay.style.position = "fixed";
  overlay.style.inset = "0";
  overlay.style.background = "rgba(0,0,0,0.55)";
  overlay.style.display = "grid";
  overlay.style.placeItems = "center";
  overlay.style.zIndex = "99999";

  overlay.innerHTML = `
    <div style="
      width:min(600px,90%);
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: 20px;
      padding: 24px;
      text-align:center;
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,0.35);
    ">
      <h3 style="margin:0 0 12px 0;">üí´ 4√®me easter egg trouv√© üí´</h3>
      <p style="margin:0; line-height:1.6; font-size:18px;">
        Petit secret :<br><br>
        quand je te parle, j‚Äôai souvent ce sourire b√™te que je fais semblant de cacher.
      </p>
      <div style="margin-top:16px;">
        <button id="closeCornerEgg" style="padding:12px 18px;border:none;border-radius:14px;cursor:pointer;">
          Fermer
        </button>
      </div>
    </div>
  `;

  document.body.appendChild(overlay);

  overlay.querySelector("#closeCornerEgg").addEventListener("click", () => overlay.remove());
  overlay.addEventListener("click", (e) => {
    if(e.target === overlay) overlay.remove();
  });
});

let summitTimer;

document.getElementById("summitText").addEventListener("mouseenter", () => {
  summitTimer = setTimeout(() => {
    registerEgg(5);

    const overlay = document.createElement("div");
    overlay.style.position = "fixed";
    overlay.style.inset = "0";
    overlay.style.background = "rgba(0,0,0,0.55)";
    overlay.style.display = "grid";
    overlay.style.placeItems = "center";
    overlay.style.zIndex = "99999";

    overlay.innerHTML = `
      <div style="
        width:min(600px,90%);
        background: rgba(255,255,255,0.15);
        border: 1px solid rgba(255,255,255,0.25);
        border-radius: 20px;
        padding: 24px;
        text-align:center;
        backdrop-filter: blur(10px);
      ">
        <h3>ü´∂ 5√®me easter egg trouv√© ü´∂</h3>
        <p>
          J‚Äôaimerais vraiment te tenir la main un jour.<br><br>
          Juste pour marcher un peu plus pr√®s de toi.
        </p>
        <button id="closeHandEgg">Fermer</button>
      </div>
    `;

    document.body.appendChild(overlay);
    overlay.querySelector("#closeHandEgg").onclick = () => overlay.remove();
    overlay.onclick = (e)=>{ if(e.target===overlay) overlay.remove(); };

  }, 2000);
});

document.getElementById("summitText").addEventListener("mouseleave", () => {
  clearTimeout(summitTimer);
});

let holdHugTimer;

document.body.addEventListener("mousedown", () => {
  holdHugTimer = setTimeout(() => {
    registerEgg(6);

    const overlay = document.createElement("div");
    overlay.style.position = "fixed";
    overlay.style.inset = "0";
    overlay.style.background = "rgba(0,0,0,0.55)";
    overlay.style.display = "grid";
    overlay.style.placeItems = "center";
    overlay.style.zIndex = "99999";

    overlay.innerHTML = `
      <div style="
        width:min(600px,90%);
        background: rgba(255,255,255,0.15);
        border-radius: 20px;
        padding: 24px;
        text-align:center;
        backdrop-filter: blur(10px);
      ">
        <h3>ü´Ç 6√®me easter egg trouv√© ü´Ç</h3>
        <p>
          Si je pouvais, je te prendrais dans mes bras l√† tout de suite.<br><br>
          Pas longtemps.<br>
          Juste assez pour appr√©cier le moment. <br>
          Mais sache que j'en ai vraiment envie.
        </p>
        <button id="closeHugEgg">Fermer</button>
      </div>
    `;

    document.body.appendChild(overlay);
    overlay.querySelector("#closeHugEgg").onclick = () => overlay.remove();
    overlay.onclick = (e)=>{ if(e.target===overlay) overlay.remove(); };

  }, 3000);
});

document.body.addEventListener("mouseup", () => {
  clearTimeout(holdHugTimer);
});

// ============ HELPERS (overlay rapide) ============
function showMiniOverlay(title, htmlText){
  const overlay = document.createElement("div");
  overlay.style.position = "fixed";
  overlay.style.inset = "0";
  overlay.style.background = "rgba(0,0,0,0.55)";
  overlay.style.display = "grid";
  overlay.style.placeItems = "center";
  overlay.style.zIndex = "99999";

  overlay.innerHTML = `
    <div style="
      width:min(600px,90%);
      background: rgba(255,255,255,0.15);
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: 20px;
      padding: 24px;
      text-align:center;
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,0.35);
    ">
      <h3 style="margin:0 0 12px 0;">${title}</h3>
      <p style="margin:0; line-height:1.6; font-size:18px;">${htmlText}</p>
      <div style="margin-top:16px;">
        <button id="closeMini" style="padding:12px 18px;border:none;border-radius:14px;cursor:pointer;">
          Fermer
        </button>
      </div>
    </div>
  `;
  document.body.appendChild(overlay);
  overlay.querySelector("#closeMini").onclick = () => overlay.remove();
  overlay.onclick = (e)=>{ if(e.target===overlay) overlay.remove(); };
}

// ============ 1) Heure tardive ============
(function lateHourEgg(){
  const now = new Date();
  const h = now.getHours();

  if(h >= 23 || h <= 3){
    setTimeout(() => {
      registerEgg(8);
      showMiniOverlay("üåô 8eme easter egg trouv√© üåô", "T‚Äôes encore r√©veill√©e ?<br><br> J'esp√®re que tu penses √† moi.");
    }, 1200);
  }
})();

// ============ 3) Console / F12 : ‚Äúeh ne triche pas !‚Äù ============
let devtoolsWarned = false;

// Message direct en console (si elle ouvre, elle le verra)
console.log("%cEh ne triche pas ! üòÑ", "font-size:16px; font-weight:700;");

// D√©tection DevTools (pas parfait √† 100%, mais √ßa marche souvent)
setInterval(() => {
  const threshold = 160;
  const opened =
    (window.outerWidth - window.innerWidth) > threshold ||
    (window.outerHeight - window.innerHeight) > threshold;

  if(opened && !devtoolsWarned){
    devtoolsWarned = true;
    registerEgg(9);
    console.log("%cEh ne triche pas ! üòÑ", "font-size:16px; font-weight:700;");
    showMiniOverlay("üëÄ 9eme easter egg trouv√© üëÄ", "Eh ne triche pas ! üòÑ");
  }
  if(!opened){
    devtoolsWarned = false;
  }
}, 800);

function showUltimateReward(){
  // √©vite doublon si jamais registerEgg est appel√© 2 fois d'affil√©e
  if(document.getElementById("ultimateOverlay")) return;

  const overlay = document.createElement("div");
  overlay.id = "ultimateOverlay";
  overlay.style.position = "fixed";
  overlay.style.inset = "0";
  overlay.style.zIndex = "999999";
  overlay.style.background = "rgba(0,0,0,0.70)";
  overlay.style.display = "grid";
  overlay.style.placeItems = "center";

  overlay.innerHTML = `
    <div style="
      width:min(760px,92%);
      background: rgba(255,105,135,0.22);
      border: 1px solid rgba(255,255,255,0.22);
      border-radius: 26px;
      padding: 28px 20px;
      text-align:center;
      backdrop-filter: blur(14px);
      box-shadow: 0 18px 80px rgba(0,0,0,0.45);
      position: relative;
      overflow:hidden;
    ">
      <div style="font-size:44px; margin-bottom:6px;">üèÜ</div>
      <h2 style="margin:0 0 10px 0; font-size:28px;">R√©compense ultime d√©bloqu√©e</h2>
      <p style="margin:0; line-height:1.65; font-size:19px;">
        10/10‚Ä¶ t‚Äôes trop forte ü´∂<br><br>
        J'esp√®re que tu as bien aim√© ce petit jeu et que tu y as pris plaisir ! Perso j'ai ador√© le faire ü§ó<br>
        J'avoue, j'ai chang√© d'avis, tu as r√©ussi √† terminer √ßa alors il fallait une r√©compense √† la hauteur non ?<br>
        La premi√®re r√©compense est qu'il se cache un dernier code secret dans le digicode.. et oui.. Celui ci est al√©atoire,
        car il contient une grande d√©cla contenant toutes les choses que je revais de te dire mais que je n'ai jamais os√©. <br>
        Alors si √ßa se trouve il ne sera jamais ouvert, ou alors le destin fera que tu arriveras √† le trouver ü´† (ne m'en veut pas trop) <br>
        Tu vas te dire que j'avais mis le mot "r√©compense" au pluriel ? Ne t'inqui√®tes pas, √ßa arrivera plus vite que tu ne le crois. <br><br>
        <b>PS : garde un peu de place dans ton sac lundi üôè</b>
      </p>

      <div style="margin-top:18px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
        <button id="ultimateClose" style="padding:12px 18px;border:none;border-radius:14px;cursor:pointer;">
          Fermer
        </button>
      </div>

      <div id="heartRain" style="position:absolute; inset:0; pointer-events:none;"></div>
    </div>
  `;

  document.body.appendChild(overlay);

  // ===== Pluie de coeurs INFINIE (safe) =====
  const rain = overlay.querySelector("#heartRain");
  const emojis = ["üíñ","üíò","üíó","üíì","üíï","üíû"];

  const heartInterval = setInterval(() => {
    const heart = document.createElement("div");
    heart.textContent = emojis[Math.floor(Math.random() * emojis.length)];

    heart.style.position = "absolute";
    heart.style.left = Math.random() * 100 + "%";
    heart.style.top = "-10%";
    heart.style.fontSize = (14 + Math.random()*24) + "px";
    heart.style.opacity = (0.55 + Math.random()*0.4).toFixed(2);
    heart.style.transform = `rotate(${(Math.random()*40-20).toFixed(1)}deg)`;
    heart.style.transition = "top 3.2s linear, opacity 3.2s linear, transform 3.2s linear";

    rain.appendChild(heart);

    requestAnimationFrame(() => {
      heart.style.top = "110%";
      heart.style.opacity = "0";
    });

    setTimeout(() => heart.remove(), 3400);
  }, 140);

  // ===== Fermeture (stop pluie) =====
  function closeUltimate(){
    clearInterval(heartInterval);
    overlay.remove();
  }

  overlay.querySelector("#ultimateClose").addEventListener("click", closeUltimate);
  overlay.addEventListener("click", (e) => {
    if(e.target === overlay) closeUltimate();
  });
}

function showHugeLoveNote(){
  const overlay = document.createElement("div");
  overlay.style.position = "fixed";
  overlay.style.inset = "0";
  overlay.style.background = "rgba(0,0,0,0.72)";
  overlay.style.display = "grid";
  overlay.style.placeItems = "center";
  overlay.style.zIndex = "999999";

  overlay.innerHTML = `
    <div style="
      width:min(900px,92%);
      background: rgba(255,255,255,0.14);
      border: 1px solid rgba(255,255,255,0.22);
      border-radius: 22px;
      padding: 22px 18px;
      text-align:center;
      backdrop-filter: blur(12px);
      box-shadow: 0 18px 80px rgba(0,0,0,0.45);
      max-height: 82vh;
      overflow:auto;
    ">
      <h2 style="margin:0 0 10px 0;">üíò</h2>

      <p style="margin:0; line-height:1.7; font-size:18px;">
        <b>Dernier secret.</b><br><br>

        Je sais que j‚Äôai d√©j√† laiss√© passer plein de petites phrases, des sous-entendus, des trucs cach√©s‚Ä¶<br>
        Mais l√†, j‚Äôai envie d‚Äôarr√™ter de tourner autour.<br><br>

        Depuis que je te connais, il y a un truc qui me marque :<br>
        ta fa√ßon d‚Äô√™tre.<br>
        Ta douceur quand tu parles, m√™me quand tu fais semblant d‚Äô√™tre d√©tach√©e.<br>
        Ton intelligence, ton humour, et ce petit truc‚Ä¶ qui te rend unique.<br><br>

        Je ne sais pas exactement √† quel moment √ßa a bascul√©,<br>
        mais je sais que √ßa a pris de la place.<br>
        Une place que je n‚Äôavais pas pr√©vue de te laisser, et que je n‚Äôai pas envie de r√©cup√©rer.<br><br>

        J‚Äôaime te voir sourire.<br>
        J‚Äôaime quand tu t‚Äôint√©resses √† un d√©tail, quand tu te laisses surprendre, quand tu es toi, simplement.<br>
        Et j‚Äôaime l‚Äôid√©e que ce soit avec toi que je d√©couvre tout √ßa.<br><br>

        Je sais aussi que tu as v√©cu des choses qui font peur.<br>
        Que parfois tu dois te prot√©ger, que tu peux avoir envie de fuir avant m√™me que √ßa commence vraiment.<br>
        Et je ne te demanderai jamais d‚Äô√™tre ‚Äúparfaite‚Äù, ni d‚Äôaller plus vite que ce que tu ressens.<br><br>

        Mais je veux que tu saches un truc tr√®s simple :<br>
        avec moi, il n‚Äôy aura pas de jeu bizarre, pas de pression, pas de menace, pas de ‚Äútu dois‚Äù.<br>
        Juste quelqu‚Äôun qui te respecte, qui t‚Äô√©coute, et qui a envie de te faire du bien.<br><br>

        Je ne te promets pas une histoire parfaite.<br>
        Je te promets quelque chose de vrai.<br>
        Quelque chose o√π tu peux √™tre toi, sans te forcer.<br>
        Et o√π je serai l√†, pas pour te retenir, mais pour te choisir.<br><br>

        Si tu me laisses une petite place, m√™me discr√®te,<br>
        je la prendrai avec soin.<br>
        Et je ferai en sorte que tu te sentes aim√©e comme tu le m√©rites.<br><br>

        <b>Voil√†.</b><br>
        C‚Äôest la partie de moi que je n‚Äôarrive pas √† dire √† voix haute.<br>
        Mais que j‚Äôavais besoin de te laisser quelque part, parce que tu comptes vraiment.<br><br>

        <b>PS :</b> garde un peu de place dans ton sac lundi üôè
      </p>

      <div style="margin-top:14px;">
        <button id="closeHuge" style="padding:12px 18px;border:none;border-radius:14px;cursor:pointer;">
          Fermer
        </button>
      </div>
    </div>
  `;

  document.body.appendChild(overlay);
  overlay.querySelector("#closeHuge").onclick = () => overlay.remove();
  overlay.onclick = (e)=>{ if(e.target === overlay) overlay.remove(); };
}
</script>
</body>
</html>








